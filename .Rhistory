library(dplyr)
# Load the data
data <- read.csv("data/5-min_data.csv")
# Load the data
data <- read.csv("data/5-min_data.txt")
library(dplyr)
library(ggplot2)
# Load the data
full_data <- read.csv("data/5-min_data.txt")
uniqe(full_data$X.TICKER.)
unique(full_data$X.TICKER.)
unique(full_data$X.VOL.)
full_data |> filter(X.TICKER. %in% tickers) -> sub.data
# Filter the data
tickers = c("^DJI", "^SPX", "^HSI", "^SSEC")
full_data |> filter(X.TICKER. %in% tickers) -> sub.data
p <- ggplot(sub.data, aes(x = X.DATE., y = X.CLOSE.)) +
geom_line(aes(color = X.TICKER.)) +
labs(title = "Stock Market Indexes", x = "Date", y = "Close Price") +
theme_minimal())
p <- ggplot(sub.data, aes(x = X.DATE., y = X.CLOSE.)) +
geom_line(aes(color = X.TICKER.)) +
labs(title = "Stock Market Indexes", x = "Date", y = "Close Price") +
theme_minimal()
p
p <- ggplot(sub.data, aes(x = X.DATE., y = X.CLOSE.)) +
geom_line(aes(color = X.TICKER.)) +
labs(title = "Stock Market Indexes", x = "Date", y = "Close Price") +
theme_minimal() + facet_wrap(~X.TICKER., scales = "free_y")
p
unique(full_data$X.DATE.)
full_data$X.DATE. <- as.Date(full_data$X.DATE., format = "%Y%m%d")
full_data |> filter(X.TICKER. %in% tickers, X.DATE) -> sub.data
full_data$X.DATE.
# Load the data
full_data <- read.csv("data/5-min_data.txt")
as.Date(full_data$X.DATE., format = "%Y%m%d")
# full_data$X.DATE. <- as.Date(full_data$X.DATE., format = "%Y%m%d")
full_data |> filter(X.TICKER. %in% tickers) |> filter(X.DATE. == 20240325) -> sub.data
p <- ggplot(sub.data, aes(x = X.TIME., y = X.CLOSE.)) +
geom_line(aes(color = X.TICKER.)) +
labs(title = "Stock Market Indexes", x = "Date", y = "Close Price") +
theme_minimal() + facet_wrap(~X.TICKER., scales = "free_y")
p
p <- ggplot(sub.data, aes(x = X.TIME., y = X.CLOSE.)) +
labs(title = "Stock Market Indexes", x = "Date", y = "Close Price") +
theme_minimal() + facet_wrap(~X.TICKER., scales = "free_y")
p
p <- ggplot(sub.data, aes(x = X.TIME., y = X.CLOSE.)) + geom_line() +
labs(title = "Stock Market Indexes", x = "Date", y = "Close Price") +
theme_minimal() + facet_wrap(~X.TICKER., scales = "free_y")
p
# Filter the data
tickers = c("^DJI", "^SPX")
# full_data$X.DATE. <- as.Date(full_data$X.DATE., format = "%Y%m%d")
full_data |> filter(X.TICKER. %in% tickers) |> filter(X.DATE. == 20240325) -> sub.data
p <- ggplot(sub.data, aes(x = X.TIME., y = X.CLOSE.)) + geom_line() +
labs(title = "Stock Market Indexes", x = "Date", y = "Close Price") +
theme_minimal() + facet_wrap(~X.TICKER., scales = "free_y")
p
? as.POSIXlt
? as.POSIXct
df <- read.csv("data/AAPL_1min_sample.csv")
View(df)
View(df)
df$timestamp |> as.POSIXct(format = "%Y-%m-%d %H:%M:%S") -> df$timestamp
p <- ggplot(df, aes(x = timestamp, y = close)) + geom_line() +
labs(title = "AAPL", x = "Time", y = "Close Price") +
theme_minimal()
p
hist(df$timestamp)
hist(df$timestamp, breaks = 10)
unique(as.Date(df$timestamp))
# filter out to just one week from 2024-04-15 to 2024-04-19
df |> filter(timestamp >= as.POSIXct("2024-04-15 00:00:00") & timestamp <= as.POSIXct("2024-04-19 23:59:59")) -> df
p <- ggplot(df, aes(x = timestamp, y = close)) + geom_line() +
labs(title = "AAPL", x = "Time", y = "Close Price") +
theme_minimal()
p
df <- read.csv("data/AAPL_1min_sample.csv")
df$timestamp |> as.POSIXct(format = "%Y-%m-%d %H:%M:%S") -> df$timestamp
# filter out to just one week from 2024-04-15 to 2024-04-19
df |> filter(timestamp >= as.POSIXct("2024-04-15 00:00:00") & timestamp <= as.POSIXct("2024-04-15 23:59:59")) -> df
p <- ggplot(df, aes(x = timestamp, y = close)) + geom_line() +
labs(title = "AAPL", x = "Time", y = "Close Price") +
theme_minimal()
p
df <- read.csv("data/AAPL_1min_sample.csv")
df$timestamp |> as.POSIXct(format = "%Y-%m-%d %H:%M:%S") -> df$timestamp
p <- ggplot(df, aes(x = timestamp, y = close)) + geom_line() +
labs(title = "AAPL", x = "Time", y = "Close Price") +
theme_minimal()
p
df <- read.csv("data/AAPL_1min_2024.csv")
df$timestamp |> as.POSIXct(format = "%Y-%m-%d %H:%M:%S") -> df$timestamp
df$Date |> as.POSIXct(format = "%Y-%m-%d %H:%M:%S") -> df$Date
p <- ggplot(df, aes(x = Date, y = close)) + geom_line() +
labs(title = "AAPL", x = "Time", y = "Close Price") +
theme_minimal()
p
p <- ggplot(df, aes(x = Date, y = Close)) + geom_line() +
labs(title = "AAPL", x = "Time", y = "Close Price") +
theme_minimal()
p
p <- ggplot(df, aes(x = Date, y = Close)) + geom_smooth() +
labs(title = "AAPL", x = "Time", y = "Close Price") +
theme_minimal()
p
p <- ggplot(df, aes(x = Date, y = Close)) + geom_smooth(method = 'lm') +
labs(title = "AAPL", x = "Time", y = "Close Price") +
theme_minimal()
p
p <- ggplot(df, aes(x = Date, y = Close)) + geom_line() +
labs(title = "AAPL", x = "Time", y = "Close Price") +
theme_minimal()
p <- ggplot(df, aes(x = Date, y = Close)) + geom_line() +
labs(title = "AAPL", x = "Time", y = "Close Price") +
theme_minimal() + geom_smooth(method = 'gam', formula = y ~ s(x, bs = "cs"))
p <- ggplot(df, aes(x = Date, y = Close)) + geom_line() +
labs(title = "AAPL", x = "Time", y = "Close Price") +
theme_minimal() + geom_smooth(method = 'gam', formula = y ~ s(x, bs = "cs"))
p
# filter out to just trading hours (9:30am - 4:00pm)
df |> filter(as.numeric(format(Date, "%H")) >= 9 & as.numeric(format(Date, "%H")) < 16) -> df
p <- ggplot(df, aes(x = Date, y = Close)) + geom_line() +
labs(title = "AAPL", x = "Time", y = "Close Price") +
theme_minimal() + geom_smooth(method = 'gam', formula = y ~ s(x, bs = "cs"))
p
df <- read.csv("data/AAPL_1min_2024-2.csv")
df <- read.csv("data/AAPL_1min_2024-02.csv")
df$Date |> as.POSIXct(format = "%Y-%m-%d %H:%M:%S") -> df$Date
# filter out to just trading hours (9:30am - 4:00pm)
df |> filter(as.numeric(format(Date, "%H")) >= 9 & as.numeric(format(Date, "%H")) < 16) -> df
p <- ggplot(df, aes(x = Date, y = Close)) + geom_line() +
labs(title = "AAPL", x = "Time", y = "Close Price") +
theme_minimal() + geom_smooth(method = 'gam', formula = y ~ s(x, bs = "cs"))
p
df <- read.csv("data/AAPL_1min_2024-03.csv")
df$Date |> as.POSIXct(format = "%Y-%m-%d %H:%M:%S") -> df$Date
# filter out to just trading hours (9:30am - 4:00pm)
df |> filter(as.numeric(format(Date, "%H")) >= 9 & as.numeric(format(Date, "%H")) < 16) -> df
p <- ggplot(df, aes(x = Date, y = Close)) + geom_line() +
labs(title = "AAPL", x = "Time", y = "Close Price") +
theme_minimal() + geom_smooth(method = 'gam', formula = y ~ s(x, bs = "cs"))
p
